{"title":"apollo安装教程","uid":"69f01253b53bd2b9171f221efabe5073","slug":"apollo配置","date":"2022-09-15T10:22:15.201Z","updated":"2023-08-25T02:51:09.538Z","comments":true,"path":"api/articles/apollo配置.json","keywords":null,"cover":"https://www.loliapi.com/acg/?id=7","content":"<h1 id=\"配置-apollo-教程\"><a href=\"#配置-apollo-教程\" class=\"headerlink\" title=\"配置 apollo 教程\"></a>配置 apollo 教程</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>前言 ： 这是一整套的搭建教程，如果仅仅是需要看代码，直接本地克隆代码就行</p>\n<p>如果需要实机使用apollo 工具进行开发，获取调试之类的才需要完整构建</p>\n<p>这个教程是基于虚拟机，如果需要wsl 请看官方教程，以及如果你仅仅想轻量化使用pnc 可以考虑edu 版本</p></blockquote>\n<h2 id=\"apollo-官方教程\"><a href=\"#apollo-官方教程\" class=\"headerlink\" title=\"apollo 官方教程\"></a>apollo 官方教程</h2><p><a href=\"https://apollo.baidu.com/community/article/82\">edu 版本安装</a></p>\n<p><a href=\"https://apollo.baidu.com/community/article/83\">WSL2 win子系统安装</a></p>\n<p><a href=\"https://apollo.baidu.com/community/Apollo-Homepage-Document/Apollo_Doc_CN_8_0?doc=/%25E5%25AE%2589%25E8%25A3%2585%25E8%25AF%25B4%25E6%2598%258E/%25E6%25BA%2590%25E7%25A0%2581%25E5%25AE%2589%25E8%25A3%2585\">官方文档</a></p>\n<h2 id=\"安装虚拟机\"><a href=\"#安装虚拟机\" class=\"headerlink\" title=\"安装虚拟机\"></a>安装虚拟机</h2><ol>\n<li><p>下载虚拟机</p>\n<ul>\n<li><p><code> https://www.aliyundrive.com/s/eN7uiuj2HtQ</code> (阿里云盘)</p>\n</li>\n<li><p><code>https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html</code> (官网链接)</p>\n</li>\n</ul>\n</li>\n<li><p>激活虚拟机 <code>https://zhuanlan.zhihu.com/p/386892372</code></p>\n</li>\n</ol>\n<h2 id=\"安装-ubuntu-22-04\"><a href=\"#安装-ubuntu-22-04\" class=\"headerlink\" title=\"安装 ubuntu 22.04\"></a>安装 ubuntu 22.04</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>官方推荐使用 ubuntu 18.04 这是以 22.04举列子，一样的</p></blockquote>\n<ol>\n<li><p>下载镜像 <code>https://releases.ubuntu.com/22.04/ubuntu-22.04.1-desktop-amd64.iso</code>官网链接</p>\n</li>\n<li><p>打开 VMware 安装 ubuntu</p>\n<ol>\n<li>新建虚拟机 选择以典型安装 然后下一步</li>\n<li>选择第二个 （以镜像文件安装） 选择刚下载的 ubantu 22.04 镜像 然后下一步</li>\n<li>用户名 随意设置 密码 需要记住 （开机后的 root 密码）然后下一步</li>\n<li>选择一个空的文件夹存放虚拟机</li>\n<li>分配空间至少分配 80G （亲测 50G 加 8G 内存 gcc 编译内存不足）(选择合并成一个文件，多个文件都行)</li>\n<li>内存分配最好 4G 以上，不然容易卡 （我是 8G）核心数和线程数不想卡，就多分点。我分了 3 核 4 线程</li>\n<li>然后下一步等他打开虚拟机</li>\n<li>重新启动等他弹出设置语言界面（中文 Chinese 英文都行）<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_162532.png\"></li>\n<li>然后 continue<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_162546.png\"></li>\n<li>然后点击 Install Now(后面问你是否确定，直接确定 continue 就行)<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_162649.png\" alt=\"20220915_162649\"></li>\n<li>然后让你输入名字 密码（这是登录系统的密码，也就是锁屏密码）输入之后下一步等安装就行了<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_162733.png\" alt=\"20220915_162733\"></li>\n<li>等他安装好了之后会问你重启吗？ 立即重启就行了，然后输入你刚刚设置的登录密码登录就行了</li>\n</ol>\n</li>\n<li><p>开机之后一路右上角 skip down 就行，不同具体设置<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_163732.png\" alt=\"20220915_163732\"></p>\n</li>\n</ol>\n<h2 id=\"安装英伟达驱动\"><a href=\"#安装英伟达驱动\" class=\"headerlink\" title=\"安装英伟达驱动\"></a>安装英伟达驱动</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>需要使用感知模块并且有显卡的需要安装一下英伟达显卡驱动  —– 以下教程来自官方文档</p></blockquote>\n<ol>\n<li><p>安装必要软件包</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sudo apt-get update\nsudo apt-add-repository multiverse\nsudo apt-get update\nsudo apt-get install nvidia-driver-455</code></pre>\n\n\n</li>\n<li><p>输入 <code>nvidia-smi</code>来校验 NVIDIA GPU 驱动是否在正常运行（可能需要在安装后重启系统以使驱动生效）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Prompt&gt; nvidia-smi\nMon Jan 25 15:51:08 2021\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 460.27.04    Driver Version: 460.27.04    CUDA Version: 11.2     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage&#x2F;Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;+&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;+&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|\n|   0  GeForce RTX 3090    On   | 00000000:65:00.0  On |                  N&#x2F;A |\n| 32%   29C    P8    18W &#x2F; 350W |    682MiB &#x2F; 24234MiB |      7%      Default |\n|                               |                      |                  N&#x2F;A |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                                  |\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n|        ID   ID                                                   Usage      |\n|&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|\n|    0   N&#x2F;A  N&#x2F;A      1286      G   &#x2F;usr&#x2F;lib&#x2F;xorg&#x2F;Xorg                 40MiB |\n|    0   N&#x2F;A  N&#x2F;A      1517      G   &#x2F;usr&#x2F;bin&#x2F;gnome-shell              120MiB |\n|    0   N&#x2F;A  N&#x2F;A      1899      G   &#x2F;usr&#x2F;lib&#x2F;xorg&#x2F;Xorg                342MiB |\n|    0   N&#x2F;A  N&#x2F;A      2037      G   &#x2F;usr&#x2F;bin&#x2F;gnome-shell               69MiB |\n|    0   N&#x2F;A  N&#x2F;A      4148      G   ...gAAAAAAAAA --shared-files      105MiB |\n+-----------------------------------------------------------------------------+</code></pre>\n\n\n</li>\n<li><p>为了在容器内获得 GPU 支持，在安装完 docker 后需要安装 NVIDIA Container Toolkit。 运行以下命令安装 NVIDIA Container Toolkit：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">distribution&#x3D;$(. &#x2F;etc&#x2F;os-release;echo $ID$VERSION_ID)\ncurl -s -L https:&#x2F;&#x2F;nvidia.github.io&#x2F;nvidia-docker&#x2F;gpgkey | sudo apt-key add -\ncurl -s -L https:&#x2F;&#x2F;nvidia.github.io&#x2F;nvidia-docker&#x2F;$distribution&#x2F;nvidia-docker.list | sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;nvidia-docker.list\nsudo apt-get -y update\nsudo apt-get install -y nvidia-docker2</code></pre>\n\n<p>安装完成后，重启 Docker 以使改动生效。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sudo systemctl restart docker</code></pre>\n\n<p>安装完毕后，可以在<strong>APOLLO容器内</strong>输入<code>nvidia-smi</code>来校验 NVIDIA GPU 在容器内是否能正常运行（详见1）。</p>\n</li>\n</ol>\n<h2 id=\"开始配置-apollo\"><a href=\"#开始配置-apollo\" class=\"headerlink\" title=\"开始配置 apollo\"></a>开始配置 apollo</h2><h3 id=\"准备秘钥\"><a href=\"#准备秘钥\" class=\"headerlink\" title=\"准备秘钥\"></a>准备秘钥</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>如果能够使用github 版本就不用搞这个直接 git clone <a href=\"https://github.com/ApolloAuto/apollo.git\">https://github.com/ApolloAuto/apollo.git</a> 就行，如果提示没有git 就执行 sudo apt install git就行</p>\n<p>如果看不懂上面在说什么就直接无视这句话就行</p></blockquote>\n<ol>\n<li>注册 gitte <code>https://gitee.com/</code></li>\n<li>点击右上角加号 -&gt; 新建仓库</li>\n<li>仓库的名字和路径随便填 然后点击创建<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_193426.png\" alt=\"20220915_193426\"></li>\n<li>进入仓库，点击顶部一排选项右边的 ‘’管理‘’</li>\n<li>点击部署公钥管理 -&gt; 添加公钥 名字随便，内容填下面输出的内容</li>\n<li>打开终端输入 <code>ssh-keygen -t ed25519 -C &quot;xxxxx@xxxxx.com&quot; </code> 然后直接回车 3 次就行</li>\n<li>输入<code>cat ~/.ssh/id_ed25519.pub</code> 然后复制输出的 ssh -ed …… 添加到公钥</li>\n<li>填写完成之后终端 输入<code>ssh -T git@gitee.com</code>按提示回复 yes 然后看到他输出 Hi <strong>Anonymous</strong>就行了</li>\n</ol>\n<h3 id=\"更换国内源\"><a href=\"#更换国内源\" class=\"headerlink\" title=\"更换国内源\"></a>更换国内源</h3><ol>\n<li><p>打开终端输入 <code>sudo vim /etc/docker/daemon.json</code></p>\n</li>\n<li><p>然后按 <code>i</code> 进入插入模式</p>\n</li>\n<li><p>复制下面的语句<code>ctrl shift + v</code> 复制进去</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n    &quot;registry-mirrors&quot;: [\n        &quot;http:&#x2F;&#x2F;hub-mirror.c.163.com&quot;,\n        &quot;https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&quot;,\n        &quot;https:&#x2F;&#x2F;registry.docker-cn.com&quot;\n    ]\n&#125;</code></pre>\n</li>\n<li><p>按<code>ESC</code>键后输入 <code> :wq!</code>保存并退出</p>\n</li>\n<li><p>输入<code>service docker restart</code>重新加载docker</p>\n</li>\n<li><p>输入 <code>docker info</code> 末尾出现类似的就是成功了</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Insecure Registries:\n 127.0.0.0&#x2F;8\nRegistry Mirrors:\n http:&#x2F;&#x2F;hub-mirror.c.163.com&#x2F;\n https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&#x2F;\n https:&#x2F;&#x2F;registry.docker-cn.com&#x2F;\nLive Restore Enabled: false\n   </code></pre></li>\n</ol>\n<h3 id=\"开始跑命令\"><a href=\"#开始跑命令\" class=\"headerlink\" title=\"开始跑命令\"></a>开始跑命令</h3><ol>\n<li><p>浏览器打开<code>https://wwho.lanzoue.com/ioHPm0jsee5g</code>下载 docker.txt</p>\n</li>\n<li><p>下载完成后 ctrl + alt + t 打开终端</p>\n</li>\n<li><p>cd Download 目录</p>\n</li>\n<li><p>输入 ls 查看是否有一个 docker.txt</p>\n</li>\n<li><p>输入 bash docker.txt 开始跑命令</p>\n</li>\n<li><p>然后他会提示你输入 root 密码， 注意这里输入密码不会有提示，直接输入之后回车就行，看不到输入内容</p>\n</li>\n<li><p>然后安心等待他跑完就行。大概需要好几个小时，因为需要下载很多东西</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">λ ~&#x2F; master* cd Downloads #进入下载目录\nλ ~&#x2F;Downloads&#x2F; master* ls #查看当前目录下的所有文件\ndocker.sh\nλ ~&#x2F;Downloads&#x2F; master* bash docker.sh\n[sudo] password for yuri: #这里输入看不见的\n</code></pre>\n</li>\n<li><p>看到这样的输出就是成功<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_192648.png\" alt=\"20220915_192648\"></p>\n</li>\n</ol>\n<h3 id=\"开始-build-apollo\"><a href=\"#开始-build-apollo\" class=\"headerlink\" title=\"开始 build apollo\"></a>开始 build apollo</h3><ol>\n<li><p>扩展虚拟内存 （防止 gcc 编译报错）</p>\n</li>\n<li><p>终端照着输入就行 (需要输入 root 密码)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sudo swapoff &#x2F;swapfile\nsudo rm &#x2F;swapfile\nsudo dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;swapfile bs&#x3D;1M count&#x3D;16240\nsudo mkswap &#x2F;swapfile\nsudo swapon &#x2F;swapfile\nfree -m #查看虚拟内存是不是挂载上了,看第二行 第一列 是不是16000多就行了</code></pre>\n</li>\n<li><p>打开终端输入</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cd apollo\nbash docker&#x2F;scripts&#x2F;dev_into.sh\nsudo bash apollo.sh build\n\n# 之用输入上面三个命令就行\n\n# 明确自己需要的东西，如果只要cyber 最后一句就是 \nsudo bash apollo.sh build cyber # 只要cyber\nsudo bash apollo.sh build dreamview # 只要dreamview\nsudo bash apollo.sh build planning # 只要预测模块\nsudo bash apollo.sh build_dbg # 以dbug 模式构建\n#开始build 好的配置大概build 半小时， 差的四五个小时\n#不要让屏幕熄灭，ubantu默认5分钟锁屏，可以去设置- 电源 里面改成永不熄灭，还有自己的电脑最好也搞一下</code></pre>\n</li>\n<li><p>等出现绿色的 OK 和 Enjoy 则表示成功 如图<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_211913.png\" alt=\"20220915_211913\"></p>\n</li>\n<li><p>测试回放 demo</p>\n<p><code>bash scripts/bootstrap.sh start</code> 然后会提示你在 <a href=\"http://localhost:8888/\">http://localhost:8888</a> 中访问他</p>\n</li>\n<li><p>打开浏览器输入刚刚的网址出现这个界面就是成功<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_212020.png\" alt=\"20220915_212020\"></p>\n</li>\n<li><p>下载测试 demo 下载链接：<code>https://link.zhihu.com/?target=https%3A//blog.shipengx.com/download/demo_3.5.record</code></p>\n</li>\n<li><p>下载完成执行 <code>mv ~/Downloads/demo_3.5.record ~/apollo/docs/demo_guide </code>命令把他复制进测试文件夹</p>\n</li>\n<li><p>进入 demo_guide 文件夹 <code>cd ~/apollo/docs/demo_guide</code></p>\n</li>\n<li><p>执行 <code>cyber_recorder play -f demo_3.5.record -l</code>然后打开浏览器就能看到该 demo<img src=\"https://cdn.jsdelivr.net/gh/yuri2078/images/apollo//20220915_213125.png\" alt=\"20220915_213125\"></p>\n</li>\n</ol>\n","text":"配置 apollo 教程 前言 ： 这是一整套的搭建教程，如果仅仅是需要看代码，直接本地克隆代码就行 如果需要实机使用apollo 工具进行开发，获取调试之类的...","link":"","photos":[],"count_time":{"symbolsCount":"7.3k","symbolsTime":"7 mins."},"categories":[{"name":"apollo","slug":"apollo","count":9,"path":"api/categories/apollo.json"}],"tags":[{"name":"apollo","slug":"apollo","count":12,"path":"api/tags/apollo.json"},{"name":"教程","slug":"教程","count":6,"path":"api/tags/教程.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE-apollo-%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">配置 apollo 教程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#apollo-%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">apollo 官方教程</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA\"><span class=\"toc-text\">安装虚拟机</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-ubuntu-22-04\"><span class=\"toc-text\">安装 ubuntu 22.04</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E8%8B%B1%E4%BC%9F%E8%BE%BE%E9%A9%B1%E5%8A%A8\"><span class=\"toc-text\">安装英伟达驱动</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AE-apollo\"><span class=\"toc-text\">开始配置 apollo</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87%E7%A7%98%E9%92%A5\"><span class=\"toc-text\">准备秘钥</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90\"><span class=\"toc-text\">更换国内源</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%A7%8B%E8%B7%91%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">开始跑命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%A7%8B-build-apollo\"><span class=\"toc-text\">开始 build apollo</span></a></li></ol></li></ol></li></ol>","author":{"name":"yuri2078","slug":"blog-author","avatar":"https://www.loliapi.com/acg/pp/","link":"/","description":"一名与世无争的百合控!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"apollo学习路径","uid":"58c1bf6ecb41acfadcd68abb30fef1e2","slug":"apollo学习路径","date":"2022-10-01T05:37:54.000Z","updated":"2023-08-24T12:47:35.679Z","comments":true,"path":"api/articles/apollo学习路径.json","keywords":null,"cover":"https://www.loliapi.com/acg/?id=8","text":"apollo 学习路径必要知识点掌握c++ 学习前言： 因为Cyber使用的c++ 封装的api 并且在组件部分就已经没有Python实现了，所以学习c++ 还...","link":"","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"apollo","slug":"apollo","count":9,"path":"api/categories/apollo.json"}],"tags":[{"name":"apollo","slug":"apollo","count":12,"path":"api/tags/apollo.json"}],"author":{"name":"yuri2078","slug":"blog-author","avatar":"https://www.loliapi.com/acg/pp/","link":"/","description":"一名与世无争的百合控!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"vim语法","uid":"b95b0550c3492760431cfda4b2d90aa9","slug":"vim语法","date":"2022-08-04T11:17:31.000Z","updated":"2023-08-25T02:56:43.048Z","comments":true,"path":"api/articles/vim语法.json","keywords":null,"cover":"https://www.loliapi.com/acg/?id=29","text":"vim语法常规用法 vim 文件 用vim打开文件 sudo vim 文件 使用su权限打开文件 命令行 wq 保存并且退出 q 推出不保存 i 切换到插入模式...","link":"","photos":[],"count_time":{"symbolsCount":266,"symbolsTime":"1 mins."},"categories":[{"name":"小记","slug":"小记","count":4,"path":"api/categories/小记.json"}],"tags":[{"name":"常用命令","slug":"常用命令","count":3,"path":"api/tags/常用命令.json"},{"name":"vim","slug":"vim","count":1,"path":"api/tags/vim.json"}],"author":{"name":"yuri2078","slug":"blog-author","avatar":"https://www.loliapi.com/acg/pp/","link":"/","description":"一名与世无争的百合控!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}